(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[543],{6668:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var a=s(5155),r=s(2115);let n={create:e=>{let{description:t,projectId:s=null}=e;return{id:"task_".concat(Date.now()),description:t,projectId:s,status:"inbox",details:"",updates:[],pausedContext:null,resumeDate:null,doneRemarks:null,createdAt:new Date().toISOString(),completedAt:null}}},o={create:function(){let{space:e="Work"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{space:e}}},l=()=>{let e="solo-flow-settings",t=o.create();return{get:()=>{let s=localStorage.getItem(e);return!1==!!s&&l().save(t),s?{...t,...JSON.parse(s)}:t},save:t=>{localStorage.setItem(e,JSON.stringify(t)),localStorage.setItem("solo-flow-space",t.space)}}},d=(()=>{let e=e=>"".concat("solo-flow-tasks","+").concat(e);return{getAll:t=>{let s=t||localStorage.getItem("solo-flow-space")||"Work";return JSON.parse(localStorage.getItem(e(s))||"[]")},save:t=>{let s=localStorage.getItem("solo-flow-space")||"Work",a=JSON.parse(localStorage.getItem(e(s))||"[]");a.unshift(t),localStorage.setItem(e(s),JSON.stringify(a))},update:t=>{let s=localStorage.getItem("solo-flow-space")||"Work",a=JSON.parse(localStorage.getItem(e(s))||"[]");a=a.map(e=>e.id===t.id?t:e),localStorage.setItem(e(s),JSON.stringify(a))},findById:t=>{let s=localStorage.getItem("solo-flow-space")||"Work";return JSON.parse(localStorage.getItem(e(s))||"[]").find(e=>e.id===t)}}})(),i=l(),c=()=>({getInitialState:()=>({tasks:d.getAll(),settings:i.get()}),addTask:e=>{if(!e||""===e.trim())return{success:!1,error:"Task description cannot be empty."};let t=e.match(/\s#([\w-]+)$/),s=t?t[1]:null,a=n.create({description:e,projectId:s});return d.save(a),{success:!0,tasks:d.getAll()}},moveTaskToToday:e=>{let t=d.findById(e);return t?(t.status="today",d.update(t),{success:!0,tasks:d.getAll()}):{success:!1,error:"Task not found."}},pauseTask:(e,t)=>{let{context:s,resumeDate:a}=t,r=d.findById(e);return r?(r.status="paused",r.pausedContext=s,r.resumeDate=a,d.update(r),{success:!0,tasks:d.getAll()}):{success:!1,error:"Task not found."}},resumeTask:e=>{let t=d.findById(e);return t?(t.status="today",t.pausedContext=null,t.resumeDate=null,d.update(t),{success:!0,tasks:d.getAll()}):{success:!1,error:"Task not found."}},completeTask:(e,t)=>{let{remarks:s}=t,a=d.findById(e);return a?(a.status="done",a.doneRemarks=s,a.completedAt=new Date().toISOString(),d.update(a),{success:!0,tasks:d.getAll()}):{success:!1,error:"Task not found."}},updateTaskField:(e,t,s)=>{let a=d.findById(e);return a&&void 0!==a[t]?(a[t]=s,d.update(a),{success:!0,tasks:d.getAll()}):{success:!1,error:"Task or field '".concat(t,"' not found.")}},addTaskUpdate:(e,t)=>{let s=d.findById(e);return s?(s.updates=[t,...s.updates||[]],d.update(s),{success:!0,tasks:d.getAll()}):{success:!1,error:"Task not found."}},setSpace:e=>{let t=i.get();t.space=e,console.log("=================",t),i.save(t);let s=d.getAll(e);return{success:!0,settings:i.get(),tasks:s}}}),u=e=>{let{currentSpace:t,handleSpaceChange:s}=e;return(0,a.jsx)("div",{className:"max-w-md w-full p-4",children:(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{className:"text-lg font-semibold text-white mb-4",children:"Select Your Current Space"}),(0,a.jsx)("div",{className:"space-y-3",children:[{id:"space-work",value:"Work",label:"Work Day"},{id:"space-personal",value:"Personal",label:"Personal Day"},{id:"space-project",value:"Project",label:"Project Day"}].map(e=>(0,a.jsxs)("label",{htmlFor:e.id,className:"flex items-center justify-between w-full p-4 cursor-pointer bg-gray-900 border border-gray-700 rounded-lg hover:bg-gray-800",children:[(0,a.jsx)("span",{className:"text-gray-200 font-medium",children:e.label}),(0,a.jsx)("input",{type:"radio",id:e.id,name:"space",value:e.value,checked:t===e.value,onChange:e=>s(e.target.value),className:"form-radio h-5 w-5 text-orange-600 bg-gray-700 border-gray-600 focus:ring-orange-500"})]},e.id))})]})})},m=e=>{var t;let{task:s,onAction:n,onEditField:o,onAddUpdate:l,onProjectFilter:d,children:i}=e,[c,u]=(0,r.useState)(!!s.details||(null===(t=s.updates)||void 0===t?void 0:t.length)>0),[m,y]=(0,r.useState)(null),[j,k]=(0,r.useState)(""),[v,N]=(0,r.useState)(!1),[w,S]=(0,r.useState)(!1),C=(e,t)=>{y(null),o(s.id,e,t)};return(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg","data-task-id":s.id,children:[(0,a.jsxs)("div",{className:"p-4 flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"flex-grow",children:[(0,a.jsx)(b,{setIsDetailsOpen:u,isDetailsOpen:c,isEditing:m,task:s,handleEdit:C,setIsEditing:y,onProjectFilter:d}),"done"===s.status&&(0,a.jsx)(p,{task:s}),"paused"===s.status&&(0,a.jsx)(g,{isEditing:m,task:s,handleEdit:C,setIsEditing:y}),(0,a.jsxs)("div",{className:"transition-all duration-300 ease-in-out overflow-hidden ".concat(c?"max-h-auto mt-2":"max-h-0"),children:[(0,a.jsx)(h,{isEditing:m,task:s,handleEdit:C,setIsEditing:y}),"inbox"!==s.status&&(0,a.jsx)(f,{noUpdatesError:w,task:s,showUpdateField:v,updateText:j,setUpdateText:k,handleUpdates:()=>{v?j.trim()&&(l(s.id,j.trim()),k(""),S(!1),N(!1)):N(!0)}})]})]}),(0,a.jsx)(x,{task:s,onAction:n,setNoUpdatesError:S,setUpdateField:N})]}),i]})};function x(e){let{task:t,onAction:s,setNoUpdatesError:r,setUpdateField:n}=e;return(0,a.jsxs)("div",{className:"flex-shrink-0 ml-4 space-x-2",children:["inbox"===t.status&&(0,a.jsx)("button",{onClick:()=>s(t.id,"today"),className:"text-xl font-medium  text-orange-500 border-orange-500",title:"Move to Today",children:"\uD83C\uDFAF"}),"today"===t.status&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>{if(0===t.updates.length){r(!0),n(!0);return}s(t.id,"done")},className:"text-xl",title:"Mark Done",children:"✅"}),(0,a.jsx)("button",{onClick:()=>{if(0===t.updates.length){r(!0),n(!0);return}s(t.id,"pause")},className:"text-xl",title:"Pause",children:"⏸️"})]}),"paused"===t.status&&(0,a.jsx)("button",{onClick:()=>s(t.id,"resume"),className:"text-xl",title:"Resume Task",children:"▶️"})]})}function p(e){let{task:t}=e;return(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-400 border-l-2 border-gray-600 pl-2",children:[(0,a.jsx)("b",{children:"Reason to Mark as Done: "}),t.doneRemarks&&(0,a.jsx)("p",{className:"italic mt-1 font-medium ",children:t.doneRemarks}),(0,a.jsx)("br",{}),(0,a.jsxs)("p",{className:"mt-1 font-medium",children:["Completed: ",new Date(t.completedAt).toLocaleString()]})]})}function g(e){let{isEditing:t,task:s,handleEdit:r,setIsEditing:n}=e;return(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-400 border-l-2 border-gray-600 pl-2",children:[(0,a.jsx)("b",{children:"Reason to pause this "}),"pausedContext"===t?(0,a.jsx)("textarea",{className:"w-full bg-gray-800 border border-gray-600 rounded-md p-2 text-sm focus:outline-none focus:ring-1 focus:ring-orange-500",defaultValue:s.pausedContext,onBlur:e=>r("pausedContext",e.target.value),onKeyPress:e=>"Enter"===e.key&&!e.shiftKey&&e.target.blur(),autoFocus:!0}):(0,a.jsxs)("p",{className:"italic editable",onClick:()=>n("pausedContext"),children:[s.pausedContext,(0,a.jsxs)("p",{className:"mt-1 font-medium",children:[(0,a.jsx)("br",{}),"Resume: ",s.resumeDate,s.resumeDate?new Date(s.resumeDate).toLocaleDateString(void 0,{timeZone:"UTC"}):"anytime"]})]})]})}function f(e){var t;let{noUpdatesError:s,task:r,showUpdateField:n,updateText:o,setUpdateText:l,handleUpdates:d}=e;return(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Updates:"}),s&&(0,a.jsx)("span",{className:"text-red-400 text-xs",children:"An update is required to Pause or mark as Done."}),(0,a.jsx)("div",{className:"updates-list mt-2 space-y-1",children:null===(t=r.updates)||void 0===t?void 0:t.map((e,t)=>(0,a.jsxs)("p",{className:"text-sm text-gray-400 pl-2 border-l border-gray-700",children:[" ","- ",e]},t))}),n&&(0,a.jsx)("textarea",{className:"mt-2 w-full bg-gray-900 border border-gray-600 rounded-md p-2 text-sm focus:outline-none focus:ring-1 focus:ring-orange-500",placeholder:"Add an update...",value:o,onChange:e=>l(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),d())}}),(0,a.jsx)("button",{className:"mt-2 py-1 px-3 bg-orange-600 hover:bg-orange-500 rounded-md text-sm font-medium text-white",onClick:d,children:n?"Save Update":"Add Update"})]})}function h(e){let{isEditing:t,task:s,handleEdit:r,setIsEditing:n}=e;return(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Details:"}),"details"===t?(0,a.jsx)("textarea",{className:"w-full bg-gray-900 border border-gray-600 rounded-md p-2 text-sm focus:outline-none focus:ring-1 focus:ring-orange-500",defaultValue:s.details||"",onBlur:e=>r("details",e.target.value),autoFocus:!0}):(0,a.jsx)("p",{className:"text-sm text-gray-400 min-h-[20px]",onClick:()=>n("details"),children:s.details||"Add extra detailssss..."})]})}function b(e){let{setIsDetailsOpen:t,isDetailsOpen:s,isEditing:r,task:n,handleEdit:o,setIsEditing:l,onProjectFilter:d}=e;return(0,a.jsxs)("div",{className:"flex items-center cursor-pointer",onClick:()=>t(!s),children:["description"===r?(0,a.jsx)("input",{type:"text",className:"w-full bg-gray-800 border border-gray-600 rounded-md p-2 text-sm focus:outline-none focus:ring-1 focus:ring-orange-500",defaultValue:n.description,onBlur:e=>o("description",e.target.value),onKeyPress:e=>"Enter"===e.key&&!e.shiftKey&&e.target.blur(),autoFocus:!0}):(0,a.jsx)("p",{className:"text-gray-200",onDoubleClick:()=>l("description"),children:n.description}),n.projectId&&(0,a.jsxs)("span",{className:"ml-2 text-xs bg-gray-700 text-orange-400 px-2 py-1 rounded-full cursor-pointer",onClick:e=>{e.stopPropagation(),d(n.projectId)},children:["#",n.projectId]})]})}function y(){let[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(o.create()),[l,d]=(0,r.useState)("inbox"),[i,x]=(0,r.useState)(null),[p,g]=(0,r.useState)(null),[f,h]=(0,r.useState)(""),[b,y]=(0,r.useState)(""),{useCases:j}=(0,r.useMemo)(()=>({useCases:c()}),[]);(0,r.useEffect)(()=>{let{tasks:e,settings:s}=j.getInitialState();t(e),n(s)},[j]),(0,r.useEffect)(()=>{if(b){let e=setTimeout(()=>y(""),3e3);return()=>clearTimeout(e)}},[b]);let k=(e,s)=>{if(h(s),"done"===s||"pause"===s)g(e);else{let a="today"===s?j.moveTaskToToday(e):j.resumeTask(e);a.success&&(t(a.tasks),d("today"),y("Task moved to Today."))}},v=e=>{e.preventDefault();let s=e.target.elements["pause-context"].value,a=e.target.elements["resume-date"].value,r=j.pauseTask(p,{context:s,resumeDate:a});r.success&&(t(r.tasks),g(null),d("paused"),y("Task paused."))},N=e=>{e.preventDefault();let s=e.target.elements["done-remarks"].value,a=j.completeTask(p,{remarks:s});a.success&&(t(a.tasks),g(null),d("done"),y("Task marked as done!"))},w=(e,s,a)=>{let r=j.updateTaskField(e,s,a);r.success&&t(r.tasks),y("".concat(s.charAt(0).toUpperCase()+s.slice(1)," updated."))},S=(e,s)=>{let a=j.addTaskUpdate(e,s);a.success&&(t(a.tasks),y("Update added.")),a.error&&y("update Failed.")},C=i?e.filter(e=>e.projectId===i):e,I={inbox:[],today:[],paused:[],done:[]};C.forEach(e=>{I[e.status]&&I[e.status].push(e)});let T=Object.keys(I).reduce((t,s)=>{let a=e.filter(e=>e.status===s).length,r=I[s].length;return t[s]=a>0?"".concat(s.charAt(0).toUpperCase()+s.slice(1),": ").concat(i?"".concat(r,"/").concat(a):a):"",t},{});return(0,a.jsxs)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-12 bg-gray-900 text-white min-h-screen",children:[(0,a.jsx)("style",{children:"\n                body { background-color: #111827; }\n                .nav-btn { transition: all 0.2s ease-in-out; }\n                .view { animation: fadeIn 0.5s ease-in-out; }\n                @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }\n                #notification-toast { position: fixed;  left: 85%; bottom: 20px; transform: translateX(-50%); background-color: #1f2937; color: #f97316; padding: 12px 24px; border-radius: 8px; border: 1px solid #374151; transition: all 0.3s ease-in-out; opacity: 0; pointer-events: none; }\n                #notification-toast.show { opacity: 1; pointer-events: auto; }\n            "}),(0,a.jsxs)("header",{className:"text-center mb-10",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold tracking-tight",children:"DevNote"}),(0,a.jsx)("p",{className:"mt-2 text-lg text-gray-400",children:"Notetaker with Just enough structure."})]}),(0,a.jsxs)("main",{children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)("form",{onSubmit:e=>{e.preventDefault();let s=e.target[0].value.trim(),a=j.addTask(s);a.success&&(t(a.tasks),e.target[0].value="",y("Task added to Inbox."))},className:"relative",children:(0,a.jsx)("input",{type:"text",placeholder:"Fix login bug #api (use # for projects)",className:"w-full bg-gray-800 border-2 border-gray-700 rounded-lg py-3 px-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition"})})}),(0,a.jsxs)("div",{className:"border-b border-gray-700 mb-8",children:[(0,a.jsx)("nav",{className:"flex flex-wrap space-x-1 sm:space-x-2",children:["inbox","today","paused","done","spaces","more"].map(e=>{var t,s,r,n;return(0,a.jsxs)("button",{onClick:()=>d(e),className:"nav-btn py-2 px-4 font-medium border-b-2 ".concat(l===e?"text-orange-500 border-orange-500":"text-gray-400 border-transparent hover:text-white"),children:[e.charAt(0).toUpperCase()+e.slice(1),"inbox"===e&&parseInt(null!==(n=null===(r=T.inbox)||void 0===r?void 0:null===(s=r.split(":"))||void 0===s?void 0:null===(t=s[1])||void 0===t?void 0:t.trim())&&void 0!==n?n:0)>8&&(0,a.jsx)("span",{className:"mt-1",children:" \uD83D\uDD25 "})]},e)})}),(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-500 flex flex-wrap gap-x-4",children:[(0,a.jsx)("span",{children:T.inbox}),(0,a.jsx)("span",{children:T.today}),(0,a.jsx)("span",{children:T.paused}),(0,a.jsx)("span",{children:T.done})]}),i&&(0,a.jsxs)("div",{className:"items-center mt-2 flex",children:[(0,a.jsx)("span",{className:"text-sm mr-2 text-gray-400",children:"Filtering by:"}),(0,a.jsx)("span",{className:"text-xs bg-gray-700 text-orange-400 px-2 py-1 rounded-full",children:"#".concat(i)}),(0,a.jsx)("button",{onClick:()=>x(null),className:"ml-2 text-xl font-bold text-gray-500 hover:text-white",children:"\xd7"})]})]}),(0,a.jsxs)("div",{children:["spaces"===l&&(0,a.jsx)(u,{currentSpace:s.space,handleSpaceChange:e=>{let s=j.setSpace(e);console.log("=======space change"),s.success&&(n(s.settings),t(s.tasks),d("inbox"),y("Switched to ".concat(e," space.")))}}),["inbox","today","paused","done","more"].map(e=>{var t;return(0,a.jsxs)("div",{className:"view ".concat(l===e?"":"hidden"),children:[(0,a.jsxs)("h2",{className:"text-2xl font-semibold text-white mb-4",children:["inbox"===e&&"\uD83D\uDCE5 Inbox","today"===e&&"\uD83C\uDFAF Today's Focus","paused"===e&&"\uD83D\uDEA7 Paused","done"===e&&"\uD83C\uDFC1 Progress Log"]}),"today"===e&&I.today.length>5&&(0,a.jsx)("p",{className:"text-sm text-amber-400 bg-amber-900/50 p-2 rounded-md mb-4",children:"A long list can be overwhelming. Consider pausing some tasks to maintain focus."}),(0,a.jsx)("div",{className:"space-y-3",children:(null===(t=I[e])||void 0===t?void 0:t.length)>0?I[e].sort((t,s)=>new Date("done"===e?s.completedAt:s.createdAt)-new Date("done"===e?t.completedAt:t.createdAt)).map(e=>(0,a.jsxs)(m,{task:e,onAction:k,onEditField:w,onAddUpdate:S,onProjectFilter:x,children:[(0,a.jsx)("div",{className:"bg-gray-800 p-4 rounded-b-lg mt-1 ".concat(p===e.id&&"pause"===f?"":"hidden"),children:(0,a.jsxs)("form",{onSubmit:v,children:[(0,a.jsx)("p",{className:"font-semibold text-orange-400 mb-3",children:"Pause with context so Future You knows where to pick up."}),(0,a.jsx)("textarea",{name:"pause-context",rows:"2",className:"w-full bg-gray-900 border border-gray-600 rounded-md p-2 focus:outline-none focus:ring-1 focus:ring-orange-500",placeholder:"e.g., Blocked by API issue..."}),(0,a.jsx)("input",{type:"date",name:"resume-date",className:"mt-2 w-full bg-gray-900 border border-gray-600 rounded-md p-2 focus:outline-none focus:ring-1 focus:ring-orange-500"}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 mt-3",children:[(0,a.jsx)("button",{type:"button",onClick:()=>g(null),className:"py-1 px-3 bg-gray-600 hover:bg-gray-500 rounded-md text-sm font-medium",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"py-1 px-3 bg-orange-600 hover:bg-orange-500 rounded-md text-sm font-medium text-white",children:"Confirm Pause"})]})]})}),(0,a.jsx)("div",{className:"bg-gray-800 p-4 rounded-b-lg mt-1 ".concat(p===e.id&&"done"===f?"":"hidden"),children:(0,a.jsxs)("form",{onSubmit:N,children:[(0,a.jsx)("p",{className:"font-semibold text-orange-400 mb-3",children:"Great job! Add any final remarks."}),(0,a.jsx)("textarea",{id:"done-remarks",rows:"2",className:"w-full bg-gray-900 border border-gray-600 rounded-md p-2 focus:outline-none focus:ring-1 focus:ring-orange-500",placeholder:"e.g., Fixed bug, tested successfully..."}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 mt-3",children:[(0,a.jsx)("button",{type:"button",onClick:()=>g(null),className:"py-1 px-3 bg-gray-600 hover:bg-gray-500 rounded-md text-sm font-medium",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"py-1 px-3 bg-orange-600 hover:bg-orange-500 rounded-md text-sm font-medium text-white",children:"Confirm Done"})]})]})})]},e.id)):(0,a.jsxs)("p",{className:"text-gray-500 italic mt-4",children:["No tasks in this view",i?" for #".concat(i):"","."]})})]},e)})]})]}),(0,a.jsx)("div",{id:"notification-toast",className:b?"show":"",children:(0,a.jsx)("span",{children:b})})]})}},7663:(e,t,s)=>{Promise.resolve().then(s.bind(s,6668))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(7663)),_N_E=e.O()}]);