(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1004:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>$});var a=s(5155),r=s(2115);let n=()=>{try{if("undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID)return"task_".concat(crypto.randomUUID())}catch(e){}return"task_".concat(Date.now(),"_").concat(Math.random().toString(36).slice(2,10))},o={create:e=>{let{description:t,projectId:s=null}=e;return{id:n(),description:t,projectId:s,status:"inbox",details:"",updates:[],pausedContext:null,resumeDate:null,doneRemarks:null,createdAt:new Date().toISOString(),completedAt:null}}},l={create:function(){let{space:e="Work"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{space:e}}},i={create:e=>{let{email:t,password:s}=e;return{id:"user_".concat(Date.now()),email:t,password:s,createdAt:new Date().toISOString()}}},d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"anonymous",t="solo-flow-tasks",s=s=>"".concat(t,"+").concat(e,"+").concat(s);return{getAll:t=>{let a=t||localStorage.getItem("solo-flow-space-".concat(e))||"Work",r=JSON.parse(localStorage.getItem(s(a))||"[]"),n=new Set,o=[];for(let e of r)e&&e.id&&!n.has(e.id)&&(n.add(e.id),o.push(e));return o.length!==r.length&&localStorage.setItem(s(a),JSON.stringify(o)),o},save:(e,t)=>{let a=localStorage.getItem("solo-flow-space-".concat(t))||"Work",r=JSON.parse(localStorage.getItem(s(a))||"[]");r.unshift(e);let n=new Set,o=r.filter(e=>!(!e||!e.id||n.has(e.id))&&(n.add(e.id),!0));localStorage.setItem(s(a),JSON.stringify(o))},update:t=>{let a=localStorage.getItem("solo-flow-space-".concat(e))||"Work",r=JSON.parse(localStorage.getItem(s(a))||"[]");r=r.map(e=>e.id===t.id?t:e),localStorage.setItem(s(a),JSON.stringify(r))},findById:t=>{let a=localStorage.getItem("solo-flow-space-".concat(e))||"Work";return JSON.parse(localStorage.getItem(s(a))||"[]").find(e=>e.id===t)},merge:e=>{let s=[...d("anonymous").getAll("Work"),...d(e).getAll("Work")],a=new Set,r=s.filter(e=>!(!e||!e.id||a.has(e.id))&&(a.add(e.id),!0));localStorage.setItem("".concat(t,"+").concat(e,"+Work"),JSON.stringify(r)),localStorage.removeItem("".concat(t,"+anonymous+Work")),localStorage.removeItem("".concat(t,"+anonymous+Personal")),localStorage.removeItem("".concat(t,"+anonymous+Project"))}}},c=()=>{let e="solo-flow-settings",t=l.create();return{get:()=>{let s=localStorage.getItem(e);return!1==!!s&&c().save(t),s?{...t,...JSON.parse(s)}:t},save:t=>{localStorage.setItem(e,JSON.stringify(t)),localStorage.setItem("solo-flow-space",t.space)}}},u=e=>{var t;let s=null!==(t=null==e?void 0:e.id)&&void 0!==t?t:"anonymous",a=d(s);return{getInitialState:()=>{let e=localStorage.getItem("solo-flow-space-".concat(s))||"Work";return{tasks:a.getAll(e)}},addTask:e=>{if(!e||""===e.trim())return{success:!1,error:"Task description cannot be empty."};let t=e.match(/\s#([\w-]+)$/),r=t?t[1]:null,n=o.create({description:e,projectId:r});a.save(n,s);let l=localStorage.getItem("solo-flow-space-".concat(s))||"Work";return{success:!0,tasks:a.getAll(l)}},moveTaskToToday:e=>{let t=a.findById(e);if(t){t.status="today",a.update(t);let e=localStorage.getItem("solo-flow-space-".concat(s))||"Work";return{success:!0,tasks:a.getAll(e)}}return{success:!1,error:"Task not found."}},pauseTask:(e,t)=>{let{context:r,resumeDate:n}=t,o=a.findById(e);if(o){o.status="paused",o.pausedContext=r,o.resumeDate=n,a.update(o);let e=localStorage.getItem("solo-flow-space-".concat(s))||"Work";return{success:!0,tasks:a.getAll(e)}}return{success:!1,error:"Task not found."}},resumeTask:e=>{let t=a.findById(e);if(t){t.status="today",t.pausedContext=null,t.resumeDate=null,a.update(t);let e=localStorage.getItem("solo-flow-space-".concat(s))||"Work";return{success:!0,tasks:a.getAll(e)}}return{success:!1,error:"Task not found."}},completeTask:(e,t)=>{let{remarks:r}=t,n=a.findById(e);if(n){n.status="done",n.doneRemarks=r,n.completedAt=new Date().toISOString(),a.update(n);let e=localStorage.getItem("solo-flow-space-".concat(s))||"Work";return{success:!0,tasks:a.getAll(e)}}return{success:!1,error:"Task not found."}},updateTaskField:(e,t,r)=>{let n=a.findById(e);if(n&&void 0!==n[t]){n[t]=r,a.update(n);let e=localStorage.getItem("solo-flow-space-".concat(s))||"Work";return{success:!0,tasks:a.getAll(e)}}return{success:!1,error:"Task or field '".concat(t,"' not found.")}},addTaskUpdate:(e,t)=>{let r=a.findById(e);if(r){r.updates=[t,...r.updates||[]],a.update(r);let e=localStorage.getItem("solo-flow-space-".concat(s))||"Work";return{success:!0,tasks:a.getAll(e)}}return{success:!1,error:"Task not found."}}}},m=(()=>{let e="pulse-note-users";return{findByEmail:t=>JSON.parse(localStorage.getItem(e)||"[]").find(e=>e.email===t),save:t=>{let s=JSON.parse(localStorage.getItem(e)||"[]");s.push(t),localStorage.setItem(e,JSON.stringify(s))}}})(),p=(()=>{let e="pulse-note-auth";return{getAuthenticatedUser:()=>{let t=localStorage.getItem(e);return t?JSON.parse(t):null},setAuthenticatedUser:t=>{localStorage.setItem(e,JSON.stringify(t))},clearAuthenticatedUser:()=>{localStorage.removeItem(e)}}})(),g=()=>({signUp:(e,t)=>{if(!e||!t)return{success:!1,error:"Email and password are required."};if(m.findByEmail(e))return{success:!1,error:"User with this email already exists."};let s=i.create({email:e,password:t});return m.save(s),p.setAuthenticatedUser(s),d().merge(s.id),{success:!0,user:s}},signIn:(e,t)=>{let s=m.findByEmail(e);return s&&s.password===t?(p.setAuthenticatedUser(s),d().merge(s.id),{success:!0,user:s}):{success:!1,error:"Invalid email or password."}},signOut:()=>(p.clearAuthenticatedUser(),{success:!0}),getCurrentUser:()=>({success:!0,user:p.getAuthenticatedUser()})}),x=()=>{let e=c();return{getSettings:()=>e.get(),setSpace:t=>{let s=e.get();return s.space=t,e.save(s),{success:!0,settings:e.get()}}}},f=e=>{var t;let{task:s,onAction:n,onEditField:o,onAddUpdate:l,onProjectFilter:i,children:d}=e,[c,u]=(0,r.useState)(!!s.details||(null===(t=s.updates)||void 0===t?void 0:t.length)>0),[m,p]=(0,r.useState)(null),[g,x]=(0,r.useState)(""),[f,k]=(0,r.useState)(!1),[N,S]=(0,r.useState)(!1),I=(e,t)=>{p(null),o(s.id,e,t)};return(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg","data-task-id":s.id,children:[(0,a.jsxs)("div",{className:"p-4 flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"flex-grow",children:[(0,a.jsx)(w,{setIsDetailsOpen:u,isDetailsOpen:c,isEditing:m,task:s,handleEdit:I,setIsEditing:p,onProjectFilter:i}),"done"===s.status&&(0,a.jsx)(b,{task:s}),"paused"===s.status&&(0,a.jsx)(v,{isEditing:m,task:s,handleEdit:I,setIsEditing:p}),(0,a.jsxs)("div",{className:"transition-all duration-300 ease-in-out overflow-hidden ".concat(c?"max-h-auto mt-2":"max-h-0"),children:[(0,a.jsx)(j,{isEditing:m,task:s,handleEdit:I,setIsEditing:p}),"inbox"!==s.status&&(0,a.jsx)(y,{noUpdatesError:N,task:s,showUpdateField:f,updateText:g,setUpdateText:x,handleUpdates:()=>{f?g.trim()&&(l(s.id,g.trim()),x(""),S(!1),k(!1)):k(!0)}})]})]}),(0,a.jsx)(h,{task:s,onAction:n,setNoUpdatesError:S,setUpdateField:k})]}),d]})};function h(e){let{task:t,onAction:s,setNoUpdatesError:r,setUpdateField:n}=e;return(0,a.jsxs)("div",{className:"flex-shrink-0 ml-4 space-x-2",children:["inbox"===t.status&&(0,a.jsx)("button",{onClick:()=>s(t.id,"today"),className:"text-xl font-medium  text-orange-500 border-orange-500",title:"Move to Today",children:"\uD83C\uDFAF"}),"today"===t.status&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>{if(0===t.updates.length){r(!0),n(!0);return}s(t.id,"done")},className:"text-xl",title:"Mark Done",children:"✅"}),(0,a.jsx)("button",{onClick:()=>{if(0===t.updates.length){r(!0),n(!0);return}s(t.id,"pause")},className:"text-xl",title:"Pause",children:"⏸️"})]}),"paused"===t.status&&(0,a.jsx)("button",{onClick:()=>s(t.id,"resume"),className:"text-xl",title:"Resume Task",children:"▶️"})]})}function b(e){let{task:t}=e;return(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-400 border-l-2 border-gray-600 pl-2",children:[(0,a.jsx)("b",{children:"Reason to Mark as Done: "}),t.doneRemarks&&(0,a.jsx)("p",{className:"italic mt-1 font-medium ",children:t.doneRemarks}),(0,a.jsx)("br",{}),(0,a.jsxs)("p",{className:"mt-1 font-medium",children:["Completed: ",new Date(t.completedAt).toLocaleString()]})]})}function v(e){let{isEditing:t,task:s,handleEdit:r,setIsEditing:n}=e;return(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-400 border-l-2 border-gray-600 pl-2",children:[(0,a.jsx)("b",{children:"Reason to pause this "}),"pausedContext"===t?(0,a.jsx)("textarea",{className:"w-full bg-gray-800 border border-gray-600 rounded-md p-2 text-sm focus:outline-none focus:ring-1 focus:ring-orange-500",defaultValue:s.pausedContext||"",onBlur:e=>r("pausedContext",e.target.value),onKeyPress:e=>"Enter"===e.key&&!e.shiftKey&&e.target.blur(),autoFocus:!0}):(0,a.jsxs)("p",{className:"italic editable",onClick:()=>n("pausedContext"),children:[s.pausedContext||"Add context...",(0,a.jsxs)("p",{className:"mt-1 font-medium",children:[(0,a.jsx)("br",{}),"Resume: ",s.resumeDate,s.resumeDate?new Date(s.resumeDate).toLocaleDateString(void 0,{timeZone:"UTC"}):"anytime"]})]})]})}function y(e){var t;let{noUpdatesError:s,task:r,showUpdateField:n,updateText:o,setUpdateText:l,handleUpdates:i}=e;return(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Updates:"}),s&&(0,a.jsx)("span",{className:"text-red-400 text-xs",children:"An update is required to Pause or mark as Done."}),(0,a.jsx)("div",{className:"updates-list mt-2 space-y-1",children:null===(t=r.updates)||void 0===t?void 0:t.map((e,t)=>(0,a.jsxs)("p",{className:"text-sm text-gray-400 pl-2 border-l border-gray-700",children:[" ","- ",e]},t))}),n&&(0,a.jsx)("textarea",{className:"mt-2 w-full bg-gray-900 border border-gray-600 rounded-md p-2 text-sm focus:outline-none focus:ring-1 focus:ring-orange-500",placeholder:"Add an update...",value:o,onChange:e=>l(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),i())}}),(0,a.jsx)("button",{className:"mt-2 py-1 px-3 bg-orange-600 hover:bg-orange-500 rounded-md text-sm font-medium text-white",onClick:i,children:n?"Save Update":"Add Update"})]})}function j(e){let{isEditing:t,task:s,handleEdit:r,setIsEditing:n}=e;return(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Details:"}),"details"===t?(0,a.jsx)("textarea",{className:"w-full bg-gray-900 border border-gray-600 rounded-md p-2 text-sm focus:outline-none focus:ring-1 focus:ring-orange-500",defaultValue:s.details||"",onBlur:e=>r("details",e.target.value),autoFocus:!0}):(0,a.jsx)("p",{className:"text-sm text-gray-400 min-h-[20px]",onClick:()=>n("details"),children:s.details||"Add extra detailssss..."})]})}function w(e){let{setIsDetailsOpen:t,isDetailsOpen:s,isEditing:r,task:n,handleEdit:o,setIsEditing:l,onProjectFilter:i}=e;return(0,a.jsxs)("div",{className:"flex items-center cursor-pointer",onClick:()=>t(!s),children:["description"===r?(0,a.jsx)("input",{type:"text",className:"w-full bg-gray-800 border border-gray-600 rounded-md p-2 text-sm focus:outline-none focus:ring-1 focus:ring-orange-500",defaultValue:n.description,onBlur:e=>o("description",e.target.value),onKeyPress:e=>"Enter"===e.key&&!e.shiftKey&&e.target.blur(),autoFocus:!0}):(0,a.jsx)("p",{className:"text-gray-200",onDoubleClick:()=>l("description"),children:n.description}),n.projectId&&(0,a.jsxs)("span",{className:"ml-2 text-xs bg-gray-700 text-orange-400 px-2 py-1 rounded-full cursor-pointer",onClick:e=>{e.stopPropagation(),i(n.projectId)},children:["#",n.projectId]})]})}let k=e=>{let{currentSpace:t,handleSpaceChange:s}=e;return(0,a.jsx)("div",{className:"max-w-md w-full p-4",children:(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{className:"text-lg font-semibold text-white mb-4",children:"Select Your Current Space"}),(0,a.jsx)("div",{className:"space-y-3",children:[{id:"space-work",value:"Work",label:"Work Day"},{id:"space-personal",value:"Personal",label:"Personal Day"},{id:"space-project",value:"Project",label:"Project Day"}].map(e=>(0,a.jsxs)("label",{htmlFor:e.id,className:"flex items-center justify-between w-full p-4 cursor-pointer bg-gray-900 border border-gray-700 rounded-lg hover:bg-gray-800",children:[(0,a.jsx)("span",{className:"text-gray-200 font-medium",children:e.label}),(0,a.jsx)("input",{type:"radio",id:e.id,name:"space",value:e.value,checked:t===e.value,onChange:e=>s(e.target.value),className:"form-radio h-5 w-5 text-orange-600 bg-gray-700 border-gray-600 focus:ring-orange-500"})]},e.id))})]})})};var N=s(2505),S=s(450),I=s(2596),C=s(9688);function A(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,C.QP)((0,I.$)(t))}function D(e){let{...t}=e;return(0,a.jsx)(N.bL,{"data-slot":"dialog",...t})}function U(e){let{...t}=e;return(0,a.jsx)(N.ZL,{"data-slot":"dialog-portal",...t})}function T(e){let{className:t,...s}=e;return(0,a.jsx)(N.hJ,{"data-slot":"dialog-overlay",className:A("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s})}function O(e){let{className:t,children:s,showCloseButton:r=!0,...n}=e;return(0,a.jsxs)(U,{"data-slot":"dialog-portal",children:[(0,a.jsx)(T,{}),(0,a.jsxs)(N.UC,{"data-slot":"dialog-content",className:A("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[s,r&&(0,a.jsxs)(N.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(S.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function E(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"dialog-header",className:A("flex flex-col gap-2 text-center sm:text-left",t),...s})}function F(e){let{className:t,...s}=e;return(0,a.jsx)(N.hE,{"data-slot":"dialog-title",className:A("text-lg leading-none font-semibold",t),...s})}function P(e){let{className:t,type:s,...r}=e;return(0,a.jsx)("input",{type:s,"data-slot":"input",className:A("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}var W=s(9708);let z=(0,s(2085).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function B(e){let{className:t,variant:s,size:r,asChild:n=!1,...o}=e,l=n?W.DX:"button";return(0,a.jsx)(l,{"data-slot":"button",className:A(z({variant:s,size:r,className:t})),...o})}var J=s(968);function R(e){let{className:t,...s}=e;return(0,a.jsx)(J.b,{"data-slot":"label",className:A("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...s})}let _=e=>{let{open:t,onOpenChange:s,onSignUp:n}=e,[o,l]=(0,r.useState)(""),[i,d]=(0,r.useState)("");return(0,a.jsx)(D,{open:t,onOpenChange:s,children:(0,a.jsxs)(O,{className:"max-w-md",children:[(0,a.jsx)(E,{children:(0,a.jsx)(F,{children:"Sign Up"})}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(o,i)},className:"mt-4",children:[(0,a.jsxs)("div",{className:"grid gap-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(R,{htmlFor:"email",children:"Email"}),(0,a.jsx)(P,{id:"email",type:"email",placeholder:"m@example.com",required:!0,value:o,onChange:e=>l(e.target.value)})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(R,{htmlFor:"password",children:"Password"}),(0,a.jsx)(P,{id:"password",type:"password",required:!0,value:i,onChange:e=>d(e.target.value)})]})]}),(0,a.jsx)(B,{type:"submit",className:"mt-4 w-full",children:"Sign Up"})]})]})})},L=e=>{let{open:t,onOpenChange:s,onSignIn:n}=e,[o,l]=(0,r.useState)(""),[i,d]=(0,r.useState)("");return(0,a.jsx)(D,{open:t,onOpenChange:s,children:(0,a.jsxs)(O,{className:"max-w-md",children:[(0,a.jsx)(E,{children:(0,a.jsx)(F,{children:"Sign In"})}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(o,i)},className:"mt-4",children:[(0,a.jsxs)("div",{className:"grid gap-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(R,{htmlFor:"email",children:"Email"}),(0,a.jsx)(P,{id:"email",type:"email",placeholder:"m@example.com",required:!0,value:o,onChange:e=>l(e.target.value)})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(R,{htmlFor:"password",children:"Password"}),(0,a.jsx)(P,{id:"password",type:"password",required:!0,value:i,onChange:e=>d(e.target.value)})]})]}),(0,a.jsx)(B,{type:"submit",className:"mt-4 w-full",children:"Sign In"})]})]})})},M=e=>{let{onSignInClick:t,onSignUpClick:s}=e;return(0,a.jsx)("div",{className:"flex min-h-screen flex-col items-center justify-center bg-gray-900 text-white",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-5xl font-bold",children:"Welcome to DevNote"}),(0,a.jsx)("p",{className:"mt-4 text-lg text-gray-400",children:"A minimalist to-do app for developers."}),(0,a.jsxs)("div",{className:"mt-8 space-x-4",children:[(0,a.jsx)(B,{onClick:t,variant:"outline",children:"Sign In"}),(0,a.jsx)(B,{onClick:s,children:"Sign Up"})]})]})})};var q=s(3196);let K=q.bL,V=q.l9;q.YJ,q.ZL,q.Pb,q.z6,r.forwardRef((e,t)=>{let{className:s,inset:r,children:n,...o}=e;return(0,a.jsxs)(q.ZP,{ref:t,className:A("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-orange-500 data-[state=open]:bg-orange-500",r&&"pl-8",s),...o,children:[n,(0,a.jsx)(H,{className:"ml-auto h-4 w-4"})]})}).displayName=q.ZP.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(q.G5,{ref:t,className:A("z-50 min-w-[8rem] overflow-hidden rounded-md border border-gray-700 bg-gray-800 p-1 text-white shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r})}).displayName=q.G5.displayName;let Z=r.forwardRef((e,t)=>{let{className:s,sideOffset:r=4,...n}=e;return(0,a.jsx)(q.ZL,{children:(0,a.jsx)(q.UC,{ref:t,sideOffset:r,className:A("z-50 min-w-[8rem] overflow-hidden rounded-md border border-gray-700 bg-gray-800 p-1 text-white shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})})});Z.displayName=q.UC.displayName;let Y=r.forwardRef((e,t)=>{let{className:s,inset:r,...n}=e;return(0,a.jsx)(q.q7,{ref:t,className:A("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-orange-500 focus:text-white data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",s),...n})});function G(e){return(0,a.jsx)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("path",{d:"M20 6 9 17l-5-5"})})}function H(e){return(0,a.jsx)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("path",{d:"m9 18 6-6-6-6"})})}function X(e){return(0,a.jsx)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("circle",{cx:"12",cy:"12",r:"10"})})}function $(){let[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(l.create()),[o,i]=(0,r.useState)("inbox"),[d,c]=(0,r.useState)(null),[m,p]=(0,r.useState)(null),[h,b]=(0,r.useState)(""),[v,y]=(0,r.useState)(""),[j,w]=(0,r.useState)(!1),[N,S]=(0,r.useState)(!1),[I,C]=(0,r.useState)(null),[A,D]=(0,r.useState)(0),[U,T]=(0,r.useState)(""),O=(0,r.useMemo)(()=>g(),[]),E=(0,r.useMemo)(()=>x(),[]),F=(0,r.useMemo)(()=>u(I),[I]);(0,r.useEffect)(()=>{let{user:e}=O.getCurrentUser();C(t=>(null==t?void 0:t.id)===(null==e?void 0:e.id)?t:e)},[O]),(0,r.useEffect)(()=>{let e=F.getInitialState(),s=E.getSettings();t(e.tasks),n(s)},[F,A,E]),(0,r.useEffect)(()=>{if(v){let e=setTimeout(()=>y(""),3e3);return()=>clearTimeout(e)}},[v]);let P=(e,s)=>{if(b(s),"done"===s||"pause"===s)p(e);else{let a="today"===s?F.moveTaskToToday(e):F.resumeTask(e);a.success&&(t(a.tasks||[]),i("today"),y("Task moved to Today."))}},W=e=>{e.preventDefault();let s=e.currentTarget.elements.namedItem("pause-context").value,a=e.currentTarget.elements.namedItem("resume-date").value,r=F.pauseTask(m,{context:s,resumeDate:a});r.success&&(t(r.tasks||[]),p(null),i("paused"),y("Task paused."))},z=e=>{e.preventDefault();let s=e.currentTarget.elements.namedItem("done-remarks").value,a=F.completeTask(m,{remarks:s});a.success&&(t(a.tasks||[]),p(null),i("done"),y("Task marked as done!"))},B=(e,s,a)=>{let r=F.updateTaskField(e,s,a);r.success&&t(r.tasks||[]),y("".concat(s.charAt(0).toUpperCase()+s.slice(1)," updated."))},J=(e,s)=>{let a=F.addTaskUpdate(e,s);a.success&&(t(a.tasks||[]),y("Update added.")),a.error&&y("update Failed.")};if(!I)return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(M,{onSignInClick:()=>S(!0),onSignUpClick:()=>w(!0)}),(0,a.jsx)(_,{open:j,onOpenChange:w,onSignUp:(e,t)=>{let{success:s,user:a,error:r}=O.signUp(e,t);s?(C(a),w(!1)):alert(r)}}),(0,a.jsx)(L,{open:N,onOpenChange:S,onSignIn:(e,t)=>{let{success:s,user:a,error:r}=O.signIn(e,t);s?(C(a),D(e=>e+1),S(!1)):alert(r)}})]});let R=e.filter(e=>e.description.toLowerCase().includes(U.toLowerCase())).filter(e=>!d||e.projectId===d),q={inbox:[],today:[],paused:[],done:[]};R.forEach(e=>{q[e.status]&&q[e.status].push(e)});let G=Object.keys(q).reduce((t,s)=>{let a=e.filter(e=>e.status===s).length,r=q[s].length;return t[s]=a>0?"".concat(s.charAt(0).toUpperCase()+s.slice(1),": ").concat(d?"".concat(r,"/").concat(a):a):"",t},{});return(0,a.jsxs)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-12 bg-gray-900 text-white min-h-screen",children:[(0,a.jsx)("style",{children:"\n                body { background-color: #111827; }\n                .nav-btn { transition: all 0.2s ease-in-out; }\n                .view { animation: fadeIn 0.5s ease-in-out; }\n                @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }\n                #notification-toast { position: fixed;  left: 85%; bottom: 20px; transform: translateX(-50%); background-color: #1f2937; color: #f97316; padding: 12px 24px; border-radius: 8px; border: 1px solid #374151; transition: all 0.3s ease-in-out; opacity: 0; pointer-events: none; }\n                #notification-toast.show { opacity: 1; pointer-events: auto; }\n            "}),(0,a.jsx)("header",{className:"text-center mb-10",children:(0,a.jsxs)("p",{className:"mt-2 text-lg text-gray-400",children:["Become a better engineer. \xa0",(0,a.jsxs)(K,{children:[(0,a.jsx)(V,{asChild:!0,children:(0,a.jsx)("button",{className:"text-lg text-gray-400 hover:text-white",children:":::"})}),(0,a.jsx)(Z,{children:(0,a.jsxs)(Y,{onSelect:()=>{let{success:e}=O.signOut();e&&C(null)},children:["Sign Out ",I.email," "]})})]})]})}),(0,a.jsxs)("main",{children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault();let s=U.trim();if(!s)return;T("");let a=F.addTask(s);a.success&&(t(a.tasks||[]),y("Task added to Inbox."))},className:"relative",children:[(0,a.jsx)("input",{type:"text",placeholder:"Search tasks or add a new one...",value:U,onChange:e=>T(e.target.value),className:"w-full bg-gray-800 border-2 border-gray-700 rounded-lg py-3 px-4 pl-10 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition"}),(0,a.jsx)("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-500 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",onClick:()=>{U||T("")},children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})]})}),(0,a.jsxs)("div",{className:"border-b border-gray-700 mb-8",children:[(0,a.jsx)("nav",{className:"flex flex-wrap space-x-1 sm:space-x-2",children:["inbox","today","paused","done","spaces"].map(e=>{var t,s,r,n;return(0,a.jsxs)("button",{onClick:()=>i(e),className:"nav-btn py-2 px-4 font-medium border-b-2 ".concat(o===e?"text-orange-500 border-orange-500":"text-gray-400 border-transparent hover:text-white"),children:[e.charAt(0).toUpperCase()+e.slice(1),"inbox"===e&&parseInt(null!==(n=null===(r=G.inbox)||void 0===r?void 0:null===(s=r.split(":"))||void 0===s?void 0:null===(t=s[1])||void 0===t?void 0:t.trim())&&void 0!==n?n:"0")>8&&(0,a.jsx)("span",{className:"mt-1",children:" \uD83D\uDD25 "})]},e)})}),(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-500 flex flex-wrap gap-x-4",children:[(0,a.jsx)("span",{children:G.inbox}),(0,a.jsx)("span",{children:G.today}),(0,a.jsx)("span",{children:G.paused}),(0,a.jsx)("span",{children:G.done})]}),d&&(0,a.jsxs)("div",{className:"items-center mt-2 flex",children:[(0,a.jsx)("span",{className:"text-sm mr-2 text-gray-400",children:"Filtering by:"}),(0,a.jsx)("span",{className:"text-xs bg-gray-700 text-orange-400 px-2 py-1 rounded-full",children:"#".concat(d)}),(0,a.jsx)("button",{onClick:()=>c(null),className:"ml-2 text-xl font-bold text-gray-500 hover:text-white",children:"\xd7"})]})]}),(0,a.jsxs)("div",{children:["spaces"===o&&(0,a.jsx)(k,{currentSpace:s.space,handleSpaceChange:e=>{let t=E.setSpace(e);t.success&&(n(t.settings),D(e=>e+1),i("inbox"),y("Switched to ".concat(e," space.")))}}),["inbox","today","paused","done"].map(e=>{var t;return(0,a.jsxs)("div",{className:"view ".concat(U?"":o===e?"":"hidden"),children:["today"===e&&q[e].length>5&&(0,a.jsx)("p",{className:"text-sm text-amber-400 bg-amber-900/50 p-2 rounded-md mb-4",children:"A long list can be overwhelming. Consider pausing some tasks to maintain focus."}),(0,a.jsx)("div",{className:"space-y-3",children:(null===(t=q[e])||void 0===t?void 0:t.length)>0?q[e].sort((t,s)=>new Date("done"===e?s.completedAt:s.createdAt).getTime()-new Date("done"===e?t.completedAt:t.createdAt).getTime()).map(e=>(0,a.jsxs)(f,{task:e,onAction:P,onEditField:B,onAddUpdate:J,onProjectFilter:c,children:[(0,a.jsx)("div",{className:"bg-gray-800 p-4 rounded-b-lg mt-1 ".concat(m===e.id&&"pause"===h?"":"hidden"),children:(0,a.jsxs)("form",{onSubmit:W,children:[(0,a.jsx)("p",{className:"font-semibold text-orange-400 mb-3",children:"Pause with context so Future You knows where to pick up."}),(0,a.jsx)("textarea",{name:"pause-context",rows:2,className:"w-full bg-gray-900 border border-gray-600 rounded-md p-2 focus:outline-none focus:ring-1 focus:ring-orange-500",placeholder:"e.g., Blocked by API issue..."}),(0,a.jsx)("input",{type:"date",name:"resume-date",className:"mt-2 w-full bg-gray-900 border border-gray-600 rounded-md p-2 focus:outline-none focus:ring-1 focus:ring-orange-500"}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 mt-3",children:[(0,a.jsx)("button",{type:"button",onClick:()=>p(null),className:"py-1 px-3 bg-gray-600 hover:bg-gray-500 rounded-md text-sm font-medium",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"py-1 px-3 bg-orange-600 hover:bg-orange-500 rounded-md text-sm font-medium text-white",children:"Confirm Pause"})]})]})}),(0,a.jsx)("div",{className:"bg-gray-800 p-4 rounded-b-lg mt-1 ".concat(m===e.id&&"done"===h?"":"hidden"),children:(0,a.jsxs)("form",{onSubmit:z,children:[(0,a.jsx)("p",{className:"font-semibold text-orange-400 mb-3",children:"Great job! Add any final remarks."}),(0,a.jsx)("textarea",{id:"done-remarks",rows:2,className:"w-full bg-gray-900 border border-gray-600 rounded-md p-2 focus:outline-none focus:ring-1 focus:ring-orange-500",placeholder:"e.g., Fixed bug, tested successfully..."}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 mt-3",children:[(0,a.jsx)("button",{type:"button",onClick:()=>p(null),className:"py-1 px-3 bg-gray-600 hover:bg-gray-500 rounded-md text-sm font-medium",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"py-1 px-3 bg-orange-600 hover:bg-orange-500 rounded-md text-sm font-medium text-white",children:"Confirm Done"})]})]})})]},e.id)):(0,a.jsxs)("p",{className:"text-gray-500 italic mt-4",children:["No tasks in this view",d?" for #".concat(d):"","."]})})]},e)})]})]}),(0,a.jsx)("div",{id:"notification-toast",className:v?"show":"",children:(0,a.jsx)("span",{children:v})})]})}Y.displayName=q.q7.displayName,r.forwardRef((e,t)=>{let{className:s,children:r,checked:n,...o}=e;return(0,a.jsxs)(q.H_,{ref:t,className:A("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-orange-500 focus:text-white data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:n,...o,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(q.VF,{children:(0,a.jsx)(G,{className:"h-4 w-4"})})}),r]})}).displayName=q.H_.displayName,r.forwardRef((e,t)=>{let{className:s,children:r,...n}=e;return(0,a.jsxs)(q.hN,{ref:t,className:A("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-orange-500 focus:text-white data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(q.VF,{children:(0,a.jsx)(X,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=q.hN.displayName,r.forwardRef((e,t)=>{let{className:s,inset:r,...n}=e;return(0,a.jsx)(q.JU,{ref:t,className:A("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",s),...n})}).displayName=q.JU.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(q.wv,{ref:t,className:A("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=q.wv.displayName},9268:(e,t,s)=>{Promise.resolve().then(s.bind(s,1004))}},e=>{var t=t=>e(e.s=t);e.O(0,[947,441,684,358],()=>t(9268)),_N_E=e.O()}]);